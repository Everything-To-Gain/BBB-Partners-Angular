<div class="min-h-screen bg-bbb-gray-10 py-4 sm:py-8">
  <div class="container mx-auto max-w-4xl px-3 sm:px-4 lg:px-6">
    <!-- Header -->
    <div class="text-center mb-6 sm:mb-8">
      <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-primary mb-2">
        Business Registration
      </h1>
      <p class="text-base sm:text-lg text-muted-foreground">
        Complete your business profile to get started
      </p>
    </div>

    <!-- Progress Bar -->
    <div class="mb-6 sm:mb-8">
      <hlm-progress class="h-2 mb-4" aria-labelledby="loading" [value]="progress()">
        <hlm-progress-indicator />
      </hlm-progress>
      <div class="grid grid-cols-2 sm:flex sm:justify-between gap-2 sm:gap-0">
        @for (step of steps; track step.id) {
        <div [class]="getStepClasses(step.id)">
          <div [class]="getStepIconClasses(step.id)">
            @if (currentStep() > step.id) {
            <ng-icon hlm name="lucideCircleCheck" />
            } @else {
            <ng-icon hlm [name]="step.icon" />
            }
          </div>
          <span class="text-xs sm:text-sm font-medium text-center">{{ step.title }}</span>
        </div>
        }
      </div>
    </div>

    <!-- Form -->
    <div hlmCard class="p-3 sm:p-6 bbb-shadow-base">
      <form [formGroup]="accreditationForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <app-business-info-section
          [form]="accreditationForm"
          [hidden]="currentStep() !== 1"
        ></app-business-info-section>
        <app-contact-info-section
          [form]="accreditationForm"
          [hidden]="currentStep() !== 2"
        ></app-contact-info-section>
        <app-business-details-section
          [form]="accreditationForm"
          [hidden]="currentStep() !== 3"
        ></app-business-details-section>
        <app-agreement-section
          [form]="accreditationForm"
          [hidden]="currentStep() !== 4"
        ></app-agreement-section>
        <!-- Navigation Buttons -->
        <div
          class="flex flex-col sm:flex-row justify-between gap-3 sm:gap-0 pt-6 border-t border-border"
        >
          <button
            hlmBtn
            variant="outline"
            type="button"
            (click)="prevStep()"
            [disabled]="currentStep() === 1"
            class="w-full sm:w-auto order-2 sm:order-1"
          >
            Previous
          </button>

          @if (currentStep() < steps.length) {
          <button
            hlmBtn
            type="button"
            (click)="nextStep()"
            class="w-full sm:w-auto order-1 sm:order-2"
          >
            Next Step
          </button>
          } @else {
          <button
            hlmBtn
            type="submit"
            [disabled]="isSubmitting()"
            class="bg-primary hover:bg-primary/90 w-full sm:w-auto order-1 sm:order-2"
          >
            @if (isSubmitting()) {
            <ng-icon hlm name="lucideLoader" class="animate-spin mr-2" />
            Submitting... } @else { Submit Application }
          </button>
          }
        </div>
      </form>
    </div>
  </div>
</div>
<!-- email you would like to receive updates from trackingEmail -->
