<div [formGroup]="form()" class="space-y-4 sm:space-y-6">
  <div hlmCard>
    <div hlmCardHeader>
      <div hlmCardTitle class="text-lg sm:text-xl text-primary">Business Contact Information</div>
      <div hlmCardDescription>Primary business contact details and communication preferences.</div>
    </div>
    <div hlmCardContent class="space-y-3 sm:space-y-4">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4">
        <hlm-form-field>
          <label hlmLabel>Primary Business Phone *</label>
          <input
            type="number"
            hlmInput
            placeholder="(555) 123-4567"
            formControlName="primaryBusinessPhone"
          />
          <hlm-error>Primary business phone is required</hlm-error>
        </hlm-form-field>
        <hlm-form-field>
          <label hlmLabel>Primary Business Email *</label>
          <input
            hlmInput
            placeholder="info@abcroofing.com"
            type="email"
            formControlName="primaryBusinessEmail"
          />
          <hlm-error>Primary business email is required or invalid email</hlm-error>
        </hlm-form-field>
      </div>

      <hlm-form-field>
        <label hlmLabel>Email to receive quote requests from customers</label>
        <input
          hlmInput
          placeholder="quotes@abcroofing.com"
          type="email"
          formControlName="emailToReceiveQuoteRequestsFromCustomers"
        />
        <hlm-error>Invalid email</hlm-error>
      </hlm-form-field>

      <hlm-form-field>
        <label hlmLabel>Website</label>
        <input
          hlmInput
          placeholder="https://www.abcroofing.com"
          type="url"
          formControlName="website"
        />
      </hlm-form-field>

      <!-- Social Media Links Section -->
      <div class="space-y-3">
        <div class="flex items-center justify-between">
          <label hlmLabel class="text-sm font-medium text-gray-700">Social Media Links</label>
          <button
            type="button"
            hlmBtn
            variant="outline"
            size="sm"
            (click)="addSocialMediaLink.emit()"
            class="flex items-center gap-2"
          >
            <ng-icon hlm name="lucidePlus" size="sm" />
            Add Link
          </button>
        </div>

        <div formArrayName="socialMediaLinks" class="space-y-3">
          @for (link of socialMediaLinks.controls; track $index) {
          <div class="flex items-start gap-2">
            <hlm-form-field class="flex-1">
              <input
                hlmInput
                placeholder="https://www.facebook.com/yourbusiness"
                type="url"
                [formControlName]="$index"
              />
              <hlm-error>Social media link is required</hlm-error>
            </hlm-form-field>
            <button
              type="button"
              hlmBtn
              variant="outline"
              (click)="removeSocialMediaLink.emit($index)"
              class="text-destructive hover:text-destructive"
            >
              <ng-icon hlm name="lucideTrash2" size="sm" />
            </button>
          </div>
          }
        </div>
      </div>
    </div>
  </div>

  <div hlmCard>
    <div hlmCardHeader>
      <div hlmCardTitle class="text-lg sm:text-xl text-primary">Company's principal/owner</div>
      <div hlmCardDescription>Main point of contact for your business.</div>
    </div>
    <div hlmCardContent class="space-y-3 sm:space-y-4">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4">
        <hlm-form-field>
          <label hlmLabel>First Name *</label>
          <input hlmInput placeholder="John" formControlName="primaryFirstName" />
          <hlm-error>First name is required</hlm-error>
        </hlm-form-field>
        <hlm-form-field>
          <label hlmLabel>Last Name *</label>
          <input hlmInput placeholder="Doe" formControlName="primaryLastName" />
          <hlm-error>Last name is required</hlm-error>
        </hlm-form-field>
      </div>
      <hlm-form-field>
        <label hlmLabel>Title *</label>
        <input hlmInput placeholder="Owner" formControlName="primaryTitle" />
        <hlm-error>Title is required</hlm-error>
      </hlm-form-field>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4">
        <div>
          <label for="primaryDateOfBirth" hlmLabel class="px-1">Date of birth *</label>
          <hlm-date-picker
            class="w-full mt-1"
            [min]="minDate"
            formControlName="primaryDateOfBirth"
            [autoCloseOnSelect]="true"
          >
            <span>Pick a date</span>
          </hlm-date-picker>
          @if (form().get('primaryDateOfBirth')?.value && form().get('primaryDateOfBirth')?.touched)
          {
          <hlm-error>Date of birth is required</hlm-error>
          }
        </div>
        <hlm-form-field>
          <label hlmLabel>Contact Email *</label>
          <input
            hlmInput
            placeholder="john@abcroofing.com"
            type="email"
            formControlName="primaryContactEmail"
          />
          <hlm-error>Contact email is required or invalid email</hlm-error>
        </hlm-form-field>
      </div>

      <hlm-form-field>
        <label hlmLabel>Contact Phone Number *</label>
        <input
          type="number"
          hlmInput
          placeholder="(555) 987-6543"
          formControlName="primaryContactNumber"
        />
        <hlm-error>Contact phone number is required</hlm-error>
      </hlm-form-field>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4">
        <hlm-form-field>
          <label hlmLabel>Preferred Contact Method</label>
          <brn-select
            class="inline-block w-full"
            placeholder="Select some methods"
            formControlName="preferredContactMethod"
          >
            <hlm-select-trigger class="w-full">
              <hlm-select-value />
            </hlm-select-trigger>
            <hlm-select-content>
              <hlm-option value="Email">Email</hlm-option>
              <hlm-option value="Phone">Phone</hlm-option>
              <hlm-option value="SMS">SMS</hlm-option>
              <hlm-option value="Video Call">Video Call</hlm-option>
            </hlm-select-content>
          </brn-select>
        </hlm-form-field>
        <hlm-form-field>
          <label hlmLabel>Contact Types</label>
          <brn-select
            class="inline-block w-full"
            placeholder="Select some types"
            [multiple]="true"
            formControlName="primaryContactTypes"
          >
            <hlm-select-trigger class="w-full">
              <hlm-select-value />
            </hlm-select-trigger>
            <hlm-select-content>
              <hlm-option value="Primary">Primary</hlm-option>
              <hlm-option value="Billing">Billing</hlm-option>
              <hlm-option value="Marketing">Marketing</hlm-option>
              <hlm-option value="Complaint Handler">Complaint Handler</hlm-option>
              <hlm-option value="Customer Reviews">Customer Reviews</hlm-option>
              <hlm-option value="Business Profile">List on Business Profile</hlm-option>
              <hlm-option value="Company Management">Company Management</hlm-option>
            </hlm-select-content>
          </brn-select>
        </hlm-form-field>
      </div>
    </div>
  </div>

  <div hlmCard>
    <div hlmCardHeader>
      <div hlmCardTitle class="text-lg sm:text-xl text-primary">Secondary Contact (Optional)</div>
      <div hlmCardDescription>Additional contact person for your business operations.</div>
    </div>
    <div hlmCardContent class="space-y-3 sm:space-y-4">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4">
        <hlm-form-field>
          <label hlmLabel>First Name</label>
          <input hlmInput placeholder="Jane" formControlName="secondaryFirstName" />
        </hlm-form-field>
        <hlm-form-field>
          <label hlmLabel>Last Name</label>
          <input hlmInput placeholder="Smith" formControlName="secondaryLastName" />
        </hlm-form-field>

        <hlm-form-field>
          <label hlmLabel>Title</label>
          <input hlmInput placeholder="Owner" formControlName="secondaryTitle" />
        </hlm-form-field>

        <hlm-form-field>
          <label hlmLabel>Email</label>
          <input
            hlmInput
            placeholder="jane@abcroofing.com"
            type="email"
            formControlName="secondaryEmail"
          />
          <hlm-error>Invalid email</hlm-error>
        </hlm-form-field>
        <hlm-form-field>
          <label hlmLabel>Phone Number</label>
          <input hlmInput placeholder="(555) 222-3333" formControlName="secondaryPhone" />
        </hlm-form-field>
        <hlm-form-field>
          <label hlmLabel>Preferred Contact Method</label>
          <brn-select
            class="inline-block w-full"
            placeholder="Select some methods"
            formControlName="secondaryPreferredContactMethod"
          >
            <hlm-select-trigger class="w-full">
              <hlm-select-value />
            </hlm-select-trigger>
            <hlm-select-content>
              <hlm-option value="Email">Email</hlm-option>
              <hlm-option value="Phone">Phone</hlm-option>
              <hlm-option value="SMS">SMS</hlm-option>
              <hlm-option value="Video Call">Video Call</hlm-option>
            </hlm-select-content>
          </brn-select>
        </hlm-form-field>
      </div>
      <hlm-form-field>
        <label hlmLabel>Contact Types</label>
        <brn-select
          class="inline-block w-full"
          placeholder="Select some types"
          [multiple]="true"
          formControlName="secondaryContactTypes"
        >
          <hlm-select-trigger class="w-full">
            <hlm-select-value />
          </hlm-select-trigger>
          <hlm-select-content>
            <hlm-option value="Primary">Primary</hlm-option>
            <hlm-option value="Billing">Billing</hlm-option>
            <hlm-option value="Marketing">Marketing</hlm-option>
            <hlm-option value="Complaint Handler">Complaint Handler</hlm-option>
            <hlm-option value="Customer Reviews">Customer Reviews</hlm-option>
            <hlm-option value="Business Profile">List on Business Profile</hlm-option>
            <hlm-option value="Company Management">Company Management</hlm-option>
          </hlm-select-content>
        </brn-select>
      </hlm-form-field>
    </div>
  </div>
</div>
